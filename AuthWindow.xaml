<Window x:Class="RobsYTDownloader.AuthWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="Sign in with Google"
        Height="700"
        Width="500"
        WindowStartupLocation="CenterScreen"
        Topmost="True">
    <Grid>
        <wv2:WebView2 x:Name="AuthWebView"
                      Source="about:blank"
                      NavigationCompleted="AuthWebView_NavigationCompleted"/>

        <!-- Loading overlay -->
        <Grid x:Name="LoadingOverlay"
              Background="#DD000000"
              Visibility="Visible">
            <Border Background="{DynamicResource SystemControlAcrylicWindowBrush}"
                    CornerRadius="12"
                    Padding="40"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">
                <StackPanel>
                    <ui:ProgressRing Width="60"
                                     Height="60"
                                     IsActive="True"/>
                    <TextBlock Text="Initializing authentication..."
                               FontSize="14"
                               Margin="0,20,0,0"
                               HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
